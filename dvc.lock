schema: '2.0'
stages:
  compute_dataset:
    cmd: python3 code/compute_task_data.py --dataset data/labelstudio-pets-dataset.json
      --output data/computed/pets-dataset/
    deps:
    - path: code/compute_task_data.py
      md5: aab422f14710e9c9cd899f86a3eacc5b
      size: 2220
    - path: data/labelstudio-pets-dataset.json
      md5: 296e963694f5a7cd63b97fccb7ec601b
      size: 89956236
    outs:
    - path: data/computed/pets-dataset/
      md5: 74705f83cc29e888440e4150ecb5249c.dir
      size: 1525937273
      nfiles: 14780
  train:
    cmd: python3 code/train.py --dataset data/computed/pets-dataset/ --config ./control.yaml
    deps:
    - path: ./control.yaml
      md5: 7f762b31e8c7f1c34d8396af913cecc0
      size: 649
    - path: code/train.py
      md5: 737a412a47bad4029fdf5b7d1cbd6252
      size: 2380
    - path: data/computed/pets-dataset/
      md5: 74705f83cc29e888440e4150ecb5249c.dir
      size: 1525937273
      nfiles: 14780
    outs:
    - path: models/best_model.pth
      md5: 98040ce43915d463b9d63abc5edac1ae
      size: 354529343
    - path: models/latest_model.pth
      md5: 78710121f4c02179ac554c5feda1c5a6
      size: 354532131
